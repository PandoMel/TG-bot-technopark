## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ TG-bot-propusk

```
TG-bot-propusk/
‚îÇ
‚îú‚îÄ‚îÄ bot.py                    # ‚úÖ –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–æ—É—Ç–µ—Ä—ã –∏ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (cleanup).
‚îú‚îÄ‚îÄ config.py                 # ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏. –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω—ã, ID —á–∞—Ç–æ–≤, —Ç–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç bot.
‚îú‚îÄ‚îÄ database.py               # ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å bd.txt, —Ö—Ä–∞–Ω–∏—Ç –º–∞—Å—Å–∏–≤—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞/–∑–∞–ø–∏—Å–∏.
‚îú‚îÄ‚îÄ services.py               # ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, —Ç–∞–π–º–∞—É—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π, —á—Ç–µ–Ω–∏–µ "—Ö–≤–æ—Å—Ç–æ–≤" –ª–æ–≥–æ–≤.
‚îú‚îÄ‚îÄ logging_module.py         # ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç—ã –∑–∞–ø–∏—Å–∏ –≤ bot.log –∏ KPP.log.
‚îú‚îÄ‚îÄ keyboards.py              # ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Inline –∏ Reply) –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–Ω–æ–ø–æ–∫.
‚îú‚îÄ‚îÄ FSMstates.py              # ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Å—ã –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π (FSM) –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–∏–∞–ª–æ–≥–∞.
‚îú‚îÄ‚îÄ html_export.py            # ‚úÖ –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-—Ñ–∞–π–ª —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏(–∂—É—Ä–Ω–∞–ª –ø—Ä–æ–ø—É—Å–∫–æ–≤) –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –ö–ü–ü.
‚îÇ
‚îú‚îÄ‚îÄ routers/                  # ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (Handlers)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ user.py               # ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (/start, –∑–∞–∫–∞–∑ –ø—Ä–æ–ø—É—Å–∫–∞).
‚îÇ   ‚îú‚îÄ‚îÄ admin.py              # ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î, –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤).
‚îÇ   ‚îî‚îÄ‚îÄ events.py             # ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–≤—Ö–æ–¥/–≤—ã—Ö–æ–¥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ —á–∞—Ç–∞).
‚îÇ
‚îú‚îÄ‚îÄ bd.txt                    # –ë–∞–∑–∞: "0\n123;–û–û–û –†–æ–º–∞—à–∫–∞;+7916..."
‚îú‚îÄ‚îÄ index.html                # –ñ—É—Ä–Ω–∞–ª –ø—Ä–æ–ø—É—Å–∫–æ–≤ (HTML)
‚îú‚îÄ‚îÄ bot.log                   # –õ–æ–≥ –±–æ—Ç–∞ (15MB rotating)
‚îú‚îÄ‚îÄ KPP.log                   # –õ–æ–≥ –ø—Ä–æ–ø—É—Å–∫–æ–≤ (10MB rotating)
‚îÇ
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
install Python 3.13

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install aiogram==3.14.0
```

### 2. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python bot.py
```

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:
1. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª –Ω–∞ –º–æ–¥—É–ª–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
3. ‚úÖ –í—ã–Ω–µ—Å–µ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–æ—Ç–∞—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤
5. ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ë–î –≤—ã–¥–µ–ª–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
6. ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤–∞–ª–∏–¥–∞—Ü–∏—è) –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
7. ‚úÖ HTML —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç–¥–µ–ª–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
8. ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ä–æ—É—Ç–µ—Ä—ã: user.py, admin.py, events.py
9. ‚úÖ bot.py –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤


## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `bd.txt` –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `ID;–ö–æ–º–ø–∞–Ω–∏—è;–¢–µ–ª–µ—Ñ–æ–Ω`
- –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (15MB –¥–ª—è bot.log, 10MB –¥–ª—è KPP.log)
- HTML –∂—É—Ä–Ω–∞–ª –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –ø—Ä–æ–ø—É—Å–∫–µ
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `config.py` –≤ —Å–ø–∏—Å–∫–µ `ADMINS`
